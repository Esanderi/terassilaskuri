<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <title>Terassi-Master Pro</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 20px; display: flex; justify-content: center; }
        .container { max-width: 500px; width: 100%; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: 600; margin-bottom: 5px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; width: 100%; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #27ae60; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
        .result-card { margin-top: 20px; padding: 20px; background: #e8f5e9; border-radius: 10px; border-left: 6px solid #27ae60; }
        .profit-box { margin-top: 15px; padding: 15px; background: #fff3e0; border-radius: 8px; border: 1px dashed #ff9800; font-size: 0.9em; }
        .history-text { font-size: 0.85em; color: #666; margin-top: 10px; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h2>üõ† Terassilaskuri + Kate</h2>
    
    <div class="input-group">
        <label>Terassin koko (m¬≤):</label>
        <input type="number" id="sqm" placeholder="Esim. 25" oninput="laske()">
    </div>

    <div class="input-group">
        <label>Materiaali:</label>
        <select id="mat" onchange="laske()">
            <option value="Kestopuu" data-price="160" data-cost="60">Kestopuu</option>
            <option value="Lehtikuusi" data-price="240" data-cost="110">Lehtikuusi</option>
            <option value="Komposiitti" data-price="350" data-cost="180">Komposiitti</option>
        </select>
    </div>

    <button onclick="laske()">Laske Tarjous</button>

    <div id="result" class="result-card" style="display:none;">
        <h3 id="outTotal" style="margin:0;"></h3>
        <p id="outUnit" style="color: #444;"></p>
        
        <div class="profit-box">
            <strong>Yritt√§j√§n n√§kym√§ (Kate-arvio):</strong><br>
            <span id="outProfit"></span><br>
            <span id="outWork"></span>
        </div>
        
        <p id="historyMatch" class="history-text"></p>
    </div>
</div>

<script>
    function laske() {
        const sqm = parseFloat(document.getElementById('sqm').value);
        const select = document.getElementById('mat');
        const option = select.options[select.selectedIndex];
        
        const myyntihinta = parseFloat(option.getAttribute('data-price'));
        const materiaalikulu = parseFloat(option.getAttribute('data-cost'));

        if (!sqm || sqm <= 0) return;

        // Laskenta
        const kokonaishinta = sqm * myyntihinta;
        const kulut = sqm * materiaalikulu;
        const kate = kokonaishinta - kulut;
        
        // Arvioitu ty√∂aika (esim. 1.5h per m2)
        const tunnit = Math.round(sqm * 1.5);

        document.getElementById('result').style.display = "block";
        document.getElementById('outTotal').innerText = "Tarjous: " + Math.round(kokonaishinta).toLocaleString() + " ‚Ç¨";
        document.getElementById('outUnit').innerText = "Hinta asiakkaalle: " + myyntihinta + " ‚Ç¨/m¬≤";
        
        document.getElementById('outProfit').innerText = "üí∞ Kate (ty√∂palkka + kate): " + Math.round(kate).toLocaleString() + " ‚Ç¨";
        document.getElementById('outWork').innerText = "‚è≥ Arvioitu ty√∂aika: n. " + tunnit + " h";
        
        document.getElementById('historyMatch').innerText = "Vertailu: Perustuu aiempaan " + select.value + "-hinnastoon.";
    }
</script>

</body>
</html>